# 8장. 정형 MCP, 비정형 VectorDB+RAG: 통합 에이전트 설계

## 1. 목차 개요
- **목적**: LLM이 “검색/DB조회”를 판단해서 조합하는 구조 만들기

## 2. 주요 내용
### 8.1 정형/비정형 분리 원칙
- **정형 (사실/숫자)**: 휴가 잔여일, 매출 합계 -> **MCP + SQL**
- **비정형 (설명/규정)**: 휴가 규정, 온보딩 절차 -> **VectorDB + RAG**
- **복합**: 휴가 잔여 + 규정 설명 -> **MCP + RAG 조합**

### 8.2 질문 라우팅 전략
- **규칙 기반**: 키워드 매칭 ("몇 개", "합계" -> DB)
- **스키마 기반**: 테이블 컬럼명과 매칭
- **LLM 판단**: 위 규칙으로 판단 어려울 때

### 8.3 통합 응답 전략 (핵심!)
1. 질문 분석 -> 정형? 비정형? 둘 다?
2. 필요한 소스에서 데이터 수집
3. 통합 컨텍스트 구성
4. LLM에게 최종 답변 생성 요청

### 8.4 대표 질문 시나리오 10개
- 정형, 비정형, 복합 사례별 질문 리스트
