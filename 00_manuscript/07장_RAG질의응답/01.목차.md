# 7장. RAG로 Q&A 엔진 만들기

## 1. 목차 개요
- **목적**: “일단 되는 RAG”를 빨리 만든 뒤, 이후에 튜닝 파트로 확장

## 2. 주요 내용
### 7.1 RAG 최소 동작 구현 (LangChain)
- 흐름: 질문 -> Retriever(검색) -> Prompt(컨텍스트 삽입) -> LLM -> 답변

### 7.2 RAG 프롬프트 기본 템플릿
- 역할 설정 및 지시사항 포함
- "문서에 없는 내용은 '확인되지 않음'이라고 답하세요."
- "반드시 출처(문서명, 섹션)를 함께 제시하세요."

### 7.3 "출처 표시" 응답 포맷
- JSON 구조 예시: `{"answer": "...", "sources": [{"title": "...", "section": "..."}]}`

### 7.4 ChatGPT 스타일 UI 연결
- **백엔드**: `/api/chat` (POST) - 스트리밍 응답
- **프론트**: Jinja2 + JavaScript 대화형 UI
- **데이터**: 히스토리 관리 (세션/DB)
