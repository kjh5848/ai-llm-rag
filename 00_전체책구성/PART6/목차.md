# PART 6. LangChain으로 연결 전략 세팅

## 1. 목차 개요
- **목적**: “어떤 체인/구성으로 묶을지”를 책의 표준으로 제시

## 2. 주요 내용
### 6.1 기본 구성 3종 세트
- **Router / Agent**: 어떤 도구를 쓸지 결정
- **RAG Chain**: 문서 검색
- **MCP Tools**: DB 조회

### 6.2 Router 전략 (추천)
- 질문 분석: "문서 검색 필요?", "DB 조회 필요?" 판단
- 실행 순서: DB 조회 -> 문서 검색 -> 최종 조합
- 응답 생성

### 6.3 MCP Tool 설계
- `get_leave_balance(employee_name)`
- `get_sales_sum(dept, start_date, end_date)`
- `list_employees(dept)`
- `search_documents(query)`

### 6.4 운영 설정
- **Timeout/Retry**: LLM 호출 타임아웃, 재시도 정책
- **로깅**: 프롬프트, 컨텍스트, 응답 시간 기록
- **캐싱**: 동일 질문 캐시, 임베딩 캐시
- **비용 관리**: 토큰 사용량 모니터링
