{% extends "base.html" %} {% block title %}ë°ì´í„° ì¸ì œìŠ¤íŠ¸ ê´€ë¦¬ - ë©”íƒ€ì½”ë”©{%
endblock %} {% block page_title %}ë°ì´í„° ì¸ì œìŠ¤íŠ¸ ê´€ë¦¬{% endblock %} {% block
page_subtitle %}ì‚¬ë‚´ ë¬¸ì„œ(PDF, Docx, XLSX)ë¥¼ ë¶„ì„í•˜ì—¬ AIê°€ ì´í•´í•  ìˆ˜ ìˆëŠ” ë°±í„°
ì±„ë„ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.{% endblock %} {% block content %}
<div class="card">
  <h3>ğŸ“‚ ë¬¸ì„œ ì¸ì œìŠ¤íŠ¸ íŒŒì´í”„ë¼ì¸</h3>
  <p><code>docs/</code> í´ë” ë‚´ì˜ ë¬¸ì„œë¥¼ ê°ì§€í•˜ì—¬ ë‹¨ê³„ë³„ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤.</p>

  <table class="data-table">
    <thead>
      <tr>
        <th>íŒŒì¼ëª…</th>
        <th>í˜„ì¬ ìƒíƒœ</th>
        <th>ì•¡ì…˜</th>
      </tr>
    </thead>
    <tbody>
      {% for file in files %}
      <tr>
        <td><strong>{{ file.name }}</strong></td>
        <td>
          <span
            class="status-badge {% if file.status == 'Vector ì™„ë£Œ' %}status-active{% elif file.status == 'MD ì™„ë£Œ' %}status-pending{% else %}status-inactive{% endif %}"
          >
            {{ file.status }}
          </span>
        </td>
        <td>
          <div style="display: flex; gap: 10px">
            {% if file.can_convert %}
            <form action="/admin/ingest/convert" method="post">
              <input type="hidden" name="file_path" value="{{ file.path }}" />
              <button type="submit" class="btn btn-primary btn-sm">
                MD ë³€í™˜
              </button>
            </form>
            {% else %}
            <button
              class="btn btn-sm"
              disabled
              style="background-color: #eee; cursor: not_allowed"
            >
              ë³€í™˜ ì™„ë£Œ
            </button>
            {% endif %} {% if file.can_embed %}
            <form action="/admin/ingest/embed" method="post">
              <input type="hidden" name="md_path" value="{{ file.md_path }}" />
              <button type="submit" class="btn btn-success btn-sm">
                ë°±í„° ì„ë² ë”©
              </button>
            </form>
            {% else %}
            <button
              class="btn btn-sm"
              disabled
              style="background-color: #eee; cursor: not_allowed"
            >
              ì„ë² ë”© ì™„ë£Œ
            </button>
            {% endif %}
          </div>
        </td>
      </tr>
      {% else %}
      <tr>
        <td colspan="3" style="text-align: center; padding: 40px; color: #999">
          ë¶„ì„í•  ë¬¸ì„œê°€ docs í´ë”ì— ì—†ìŠµë‹ˆë‹¤.
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<style>
  .status-badge {
    padding: 4px 10px;
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: 500;
  }
  .status-active {
    background: #e6ffed;
    color: #22863a;
  } /* Vector ì™„ë£Œ */
  .status-pending {
    background: #fff5b1;
    color: #735c0f;
  } /* MD ì™„ë£Œ */
  .status-inactive {
    background: #f6f8fa;
    color: #586069;
  } /* Raw */

  .btn-sm {
    padding: 5px 12px;
    font-size: 0.85rem;
    border-radius: 4px;
    border: none;
    cursor: pointer;
  }
  .btn-primary {
    background: #0366d6;
    color: white;
  }
  .btn-success {
    background: #28a745;
    color: white;
  }
</style>
{% endblock %}
