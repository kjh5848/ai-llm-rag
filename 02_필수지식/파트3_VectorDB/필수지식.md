# 파트 3. VectorDB 구축: 지식의 수치화와 고속 검색 레퍼런스

이 문서는 텍스트를 고차원 벡터로 변환하여 '의미 검색(Semantic Search)'을 가능하게 하는 지식 저장 인프라의 핵심 원리를 다룹니다.

---

## 1. 탄생 배경 (Context & Background)
*   **키워드 검색의 한계**: 기존의 형태소 분석 기반 검색은 정확한 단어가 일치해야만 결과를 찾을 수 있어, 유의어나 문맥적 질문에 취합하는 정보를 제공하기 어렵습니다.
*   **비정형 데이터의 차원적 이해**: 수천 수만 장의 문서 중 '내용상 가장 가까운' 것을 찾기 위해 데이터를 숫자로 치환하여 공간상의 좌표(Vector)로 관리할 필요가 생겼습니다.

## 2. 핵심 개념 (Core Concepts)
*   **Embedding (임베딩)**: 단어와 문장의 의미를 수백 개의 실수 리스트(고차원 벡터)로 압축 변환하는 과정입니다.
*   **Vector Database (벡터 데이터베이스)**: 고차원 벡터들 사이의 거리(유사도)를 전문적으로 계산하고 저장하는 특수 DB입니다.
*   **Cosine Similarity (코사인 유사도)**: 두 벡터 사이의 각도를 이용해 '의미적 거리'를 측정하는 대표적인 수학적 지표입니다.

## 3. 역할 (Role & Mechanics)
*   **시맨틱 인덱싱**: 문장의 표면적 단어가 달라도 맥락이 비슷하면 '가까운 좌표'로 정렬하여 검색 성능을 극대화합니다.
*   **고속 기하 연산**: 수백만 개의 문서 조각 중 사용자의 질문과 가장 유사한 상위 K개(Top-K)를 밀리초(ms) 단위로 추출합니다.
*   **영속성 관리**: 휘발될 수 있는 임베딩 데이터를 디스크에 물리적으로 저장하여 시스템 재시작 후에도 지식을 유지합니다.

## 4. 도입 이유 (Rationale)
*   **지능적 검색 엔진**: "연차 규정"이라고 물었을 때 "휴가 안내 문서"를 찾아낼 수 있는 유연한 검색 능력을 제공합니다.
*   **LLM의 외부 기억 장치**: 모델의 파라미터 내부에 지식을 우겨넣지 않고, 필요할 때만 외부에서 정확한 정보를 수급하여 할루시네이션을 원천 차단합니다.
*   **데이터 필터링**: 메타데이터를 활용한 필터링(예: 2024년 문서만 검색)을 통해 결과의 정확도를 한 번 더 검증할 수 있습니다.

## 5. 장단점 (Analysis)
*   **장점**
    *   **유연성**: 동의어 사전 구축 없이도 의미적 검색이 가능합니다.
    *   **확장성**: 문서의 양이 늘어나도 효율적인 인덱싱 알고리즘을 통해 검색 속도를 유지합니다.
*   **단점**
    *   **모델 의존성**: 사용한 임베딩 모델의 성능이 검색 품질을 100% 결정합니다.
    *   **고유명사 취약**: "딥러닝" 같은 일반 명사는 잘 찾지만, "Project-A12" 같은 고유 명사는 키워드 검색보다 정확도가 낮을 수 있습니다.

## 6. 차별점 (Competitive Analysis)
*   **ChromaDB vs Pinecone**:
    *   ChromaDB는 로컬 실행이 가능하여 보안과 실무 테스트에 최적이며, Pinecone은 클라우드 기반으로 대규모 서비스 확장에 유리합니다.
*   **Vector Search vs Keyword Search**:
    *   키워드 검색은 '정확한 단어 매칭'에, 벡터 검색은 '추상적 질문의 의도 이해'에 강점이 있습니다.

## 7. 관련 기술 (Related Technology)
*   **Chroma**: 파이썬 생태계에서 가장 널리 쓰이는 오픈소스 로컬 벡터 DB.
*   **LangChain VectorStore**: 다양한 벡터 DB를 동일한 인터페이스로 다루게 해주는 래퍼 클래스.
*   **Nomic Embed / OpenAI Embeddings**: 문장을 숫자로 바꿔주는 임베딩 모델군.

---
**실습 연결 포인트**:
- 벡터 DB 구축과 실제 데이터 저장은 `01_basic_rag/tutorial_step3_rag.md`의 `Chroma.from_documents` 코드 부분에서 상세히 다루고 있습니다.
