# PART 3. VectorDB 구축: 문서를 “검색 가능한 지식”으로 바꾸기

## 1. 📌 탄생 배경 (Background)
- **컴퓨터의 언어**: 컴퓨터는 한글이나 영어를 직접 이해하지 못함. **"숫자(Vector)"**로 바꿔줘야 계산(비교)이 가능함.
- **의미 검색의 필요성**: "휴가"를 검색했을 때 "연차", "리프레시" 같은 **유의어**까지 찾으려면 단어 매칭이 아닌 **의미적 거리**를 계산해야 함.

## 2. 🔑 개념 (Concept)
- **임베딩 (Embedding)**: 텍스트를 고차원의 벡터(숫자 좌표)로 변환하는 과정. (예: 사과=[0.1, 0.2], 배=[0.11, 0.21])
- **청킹 (Chunking)**: 긴 문서를 AI가 읽기 좋은 크기(문단 단위 등)로 자르는 기술.
- **VectorDB**: 이러한 벡터들을 저장하고, 질문 벡터와 가장 가까운 문서를 빠르게 찾아주는 전용 데이터베이스.

## 3. ⚙️ 역할 (Role)
- **장기 기억장치 (Long-term Memory)**: AI에게 필요한 지식을 영구적으로 저장.
- **고속 검색기**: 수만 개의 문서 중에서 질문과 관련된 Top-K개를 0.1초 안에 찾아냄.

## 4. 💡 도입 이유 (Reason)
- **Context Window 한계 극복**: LLM 입력창에 문서를 다 넣을 수 없으니, **"필요한 것만 쏙 뽑아서"** 넣기 위해 필수적임.
- **비용 절감**: 전체 문서를 매번 모델에 넣으면 토큰 비용이 폭발함.

## 5. ⚖️ 장단점 (Pros & Cons)
| 구분 | 내용 |
| :--- | :--- |
| **장점** | - **시맨틱 검색**: 단어가 달라도 의미가 통하면 찾아냄.<br>- **확장성**: 문서가 늘어나도 검색 속도가 거의 느려지지 않음. |
| **단점** | - **업데이트 비용**: 문서가 수정되면 다시 임베딩하여 DB를 갱신해야 함.<br>- **디버깅 어려움**: 왜 이 문서가 검색되었는지 사람이 직관적으로 이해하기 힘들 때가 있음(블랙박스). |

## 6. 🆚 차별점 (Differences)
- **vs RDB (SQL)**:
  - RDB는 "정확한 값(WHERE id=1)"을 찾지만, VectorDB는 "가장 비슷한 값(Nearest Neighbor)"을 찾음.
- **vs Elasticsearch (Keyword Search)**:
  - 엘라스틱은 "단어 빈도(TF-IDF)" 기반이지만, VectorDB는 "문맥 의미(Embedding)" 기반임.

## 7. 🔗 관련 기술 (Related Tech)
- **Chroma**: 오픈소스이며 파일 기반으로 가볍게 쓸 수 있는 로컬 VectorDB.
- **RecursiveCharacterTextSplitter**: 문맥을 해치지 않으면서 글자 수 기준으로 문서를 자르는 도구.
- **nomic-embed-text / ko-sroberta**: 한국어 처리에 강한 임베딩 모델.
