# 파트 8. 배포와 운영: 안정적인 AI 서비스 공급 전략 레퍼런스

이 문서는 개발된 AI 에이전트를 실제 사용자가 사용할 수 있는 환경으로 이관하고, 지속 가능하게 관리하기 위한 운영(MLOps) 기술을 다룹니다.

---

## 8.1 기술적 기원: 왜 로컬 AI 에이전트 프로젝트에 운영(MLOps) 관점이 필요한가?
*   **개발과 운영의 간극**: 개발자 PC에서는 잘 돌아가던 AI가 실제 서버 환경(OS 차이, 라이브러리 부재)에서 작동하지 않는 문제를 해결해야 합니다.
*   **자원 가동율과 비용**: LLM은 CPU/GPU 자원을 막대하게 소비하므로, 동시 접속자가 늘어날 때 시스템이 다운되지 않도록 효율적인 자원 배분 전략이 필요해졌습니다.

## 8.2 아키텍처 설계: 인프라 패키징 및 배포의 핵심 정의
*   **Dockerization (도커화)**: 애플리케이션, 런타임, 환경 설정을 하나의 이미지로 묶어 어디서나 동일하게 실행되게 하는 기술입니다.
*   **Docker Compose**: API 서버, VectorDB(Chroma), RDB(Postgres) 등 여러 개의 컨테이너를 하나의 네트워크로 묶어 유기적으로 관리하는 오케스트레이션 도구입니다.
*   **Reverse Proxy (Nginx)**: 클라이언트의 요청을 받아 적절한 서버로 분산(Load Balancing)하고, SSL 보안 인증을 담당하는 관문 역할을 합니다.

## 8.3 작동 메커니즘: 시스템 내에서의 핵심 역할
*   **환경 일관성 보장**: "내 로컬에서는 됐는데 서버에서는 안 된다"는 문제를 원천 차단합니다.
*   **장애 격리**: DB 컨테이너가 죽더라도 API 서버가 자동으로 복구되거나 다른 자원에 영향을 주지 않도록 격리합니다.
*   **지속적 모니터링**: LLM의 응답 속도(Latency), 토큰 소비량, 시스템 자원(MEM/GPU) 사용량을 실시간으로 감시합니다.

## 8.4 비즈니스 전략: 안정적인 배포 환경 구축의 실무적 근거
*   **상용 서비스 수준의 안정성**: 24시간 중단 없는 서비스를 위해 필수적입니다.
*   **배포 자동화**: 코드 한 줄 수정 후 명령 한 줄(`docker-compose up -d`)로 전체 시스템을 최신 상태로 갱신하기 위함입니다.
*   **데이터 주권의 완성**: 로컬 배포 환경을 구축함으로써 데이터가 외부로 나가지 않는 완벽한 폐쇄형 보안 시스템을 완성합니다.

## 8.5 트레이드오프: 컨테이너 기반 운영의 강점과 제약 사항
*   **장점**
    *   **이식성**: 사내 서버뿐만 아니라 필요시 AWS, Azure 등으로 즉시 이전이 가능합니다.
    *   **버전 관리**: 이전 상태로의 롤백(Rollback)이 매우 빠르고 안전합니다.
*   **단점**
    *   **학습 비용**: 컨테이너 네트워크와 설정 파일(YAML)에 대한 지식이 필요합니다.
    *   **가상화 오버헤드**: 미세하게나마 하드웨어 자원을 직접 쓰는 것보다 비효율이 발생할 수 있으나 실무에서는 무시할 만한 수준입니다.

## 8.6 비교 우위: 대안 배포 및 운영 방식과의 결정적 차이점
*   **단순 실행 vs 컨테이너 운영**: 직접 실행은 간편하지만 의존성 충돌과 좀비 프로세스 관리에 취약한 반면, 컨테이너 운영은 체계적인 수명 주기(Lifecycle) 관리를 지원합니다.
*   **On-Prem vs Serverless**:
    *   서버리스(Lambda 등)는 LLM의 긴 실행 시간과 무거운 이미지 크기를 감당하기 어렵지만, 컨테이너 방식은 장시간 대규모 연산에 최적화되어 있습니다.

## 8.7 연관 생태계: 패키징 및 상용 운영 통합 스택
*   **Docker / Docker Compose**: 컨테이너 인프라의 표준.
*   **Nginx**: 고성능 리버스 프록시 및 로드 밸런서.
*   **Prometheus & Grafana**: 시스템 매트릭 수집 및 시각화 도구.

---
**실습 연결 포인트**:
- 전체 시스템을 하나로 묶어 배포하는 Docker 환경 구성은 프로젝트 루트의 `docker-compose.yml` 설정과 개별 파트의 배포 체크리스트를 통해 완성할 수 있습니다.
