# 파트 1. FastAPI로 사내 시스템 구축: 기술 상세 레퍼런스

이 문서는 AI 에이전트가 접근할 수 있는 '데이터 원천(Source of Truth)'이 되는 사내 백엔드 시스템 구축의 기술적 원리와 설계 방식을 다룹니다.

---

## 1.1 기술적 기원: 왜 AI 에이전트를 위한 전용 백엔드가 필요한가?
*   **AI와 데이터의 가교**: 뇌(LLM)가 근육(실행)과 장기(데이터)를 통제하기 위해서는 표준화된 신경망(API)이 필요합니다.
*   **비즈니스 로직의 통합**: 단순 LLM 호출을 넘어, 기업 특유의 비즈니스 규칙(결재 라인, 권한 등)을 반영한 안전한 데이터 제공 계층이 필요합니다.

## 1.2 아키텍처 설계: 비동기 백엔드의 핵심 정의
*   **ASGI (Asynchronous Server Gateway Interface)**: Python의 비동기 처리를 지원하는 표준 인터페이스로, 수천 개의 AI 스트리밍 요청을 효율적으로 처리할 수 있게 합니다.
*   **Pydantic**: 데이터 검증 및 설정을 위한 라이브러리로, API 입출력 값의 타입 안정성을 보장하고 자동 문서화의 근간이 됩니다.
*   **DI (Dependency Injection)**: 데이터베이스 세션이나 모델 인스턴스를 필요한 곳에 주입하여 코드의 결합도를 낮추고 테스트 용이성을 높이는 설계 패턴입니다.

## 1.3 작동 메커니즘: 시스템 내에서의 핵심 역할
*   **데이터 거버넌스**: AI가 날것의 DB에 직접 접근하지 않고, API라는 정제된 창구를 통해 허가된 데이터만 조회하도록 통제합니다.
*   **RESTful 인터페이스**: HTTP 메서드(GET, POST 등)를 통해 AI 에이전트가 이해하기 쉬운 규격화된 소통 방식을 제공합니다.
*   **자동화된 문서화 (OpenAPI/Swagger)**: 프론트엔드 개발자나 AI 에이전트(Tool Calling 시)가 API 사양을 즉시 파악할 수 있는 대화형 문서를 생성합니다.

## 1.4 비즈니스 전략: FastAPI 도입의 실무적 근거
*   **성능 최적화**: Python 웹 프레임워크 중 가장 빠른 성질을 가지며, 특히 입출력 대기 시간이 긴 AI 서비스에 최적화되어 있습니다.
*   **개발 생산성**: 현대적인 Python 문법(Type Hinting)을 적극 활용하여 버그를 줄이고 개발 속도를 높입니다.
*   **간결한 프론트엔드 연동**: 실습 환경에서는 Jinja2 템플릿 엔진을 사용하여 별도의 복잡한 빌드 과정 없이 직관적인 관리자 UI를 구축할 수 있습니다.

## 1.5 트레이드오프: 백엔드 프레임워크의 강점과 제약 사항
*   **장점**
    *   **강력한 유효성 검사**: 잘못된 형식의 데이터가 시스템에 유입되는 것을 원천 차단합니다.
    *   **비동기 지원**: LLM의 긴 응답 시간 동안 서버의 다른 자원이 차단되지(Blocking) 않습니다.
*   **단점**
    *   **비동기 학습 곡선**: `async/await` 개념에 대한 깊은 이해가 필요합니다.
    *   **라이브러리 호환성**: 일부 오래된 SQL 라이브러리가 비동기를 완벽히 지원하지 않을 수 있습니다.

## 1.6 비교 우위: 대안 프레임워크와의 결정적 차이점
*   **vs Django**: Django는 무거운 '풀스택' 지향이나, AI 에이전트용 마이크로 API 서버로는 가볍고 빠른 FastAPI가 더 적합합니다.
*   **vs Flask**: Flask는 동기 방식 위주이며 대규모 비동기 처리에 한계가 있는 반면, FastAPI는 처음부터 고성능 비동기를 위해 설계되었습니다.

## 1.7 연관 생태계: 백엔드 및 DB 통합 스택
*   **SQLAlchemy**: Python 객체와 관계형 DB를 매핑하는 ORM 표준.
*   **Uvicorn**: FastAPI 앱을 실행하는 고성능 ASGI 서버.
*   **Jinja2**: 서버측 HTML 렌더링을 위한 템플릿 엔진.

---
**실습 연결 포인트**:
- 기본적인 API 설계와 데이터 CRUD 로직은 `01_basic_rag/tutorial_step1_fail.md`의 시스템 배경 설명 및 해당 단계의 백엔드 코드에서 확인할 수 있습니다.
