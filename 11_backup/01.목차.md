# 11장. 배포와 운영

## 1. 목차 개요
- **목적**: 개발 환경에서 실제 운영까지 가는 길 안내

## 2. 주요 내용
### 11.1 배포 아키텍처
- Nginx (Reverse Proxy)
- FastAPI (Uvicorn)
- PostgreSQL & Chroma (VectorDB)
- LangChain Agent & Ollama (DeepSeek)

### 11.2 Docker Compose 구성
- 서비스별 컨테이너 설정
- Ollama 호스트 실행 (GPU 접근)
- 볼륨 마운트 및 시크릿 관리 (API 키, DB 비번)

### 11.3 환경 및 성능 최적화
- **환경 분리**: dev / staging / prod
- **로깅/모니터링**: Sentry, 토큰 사용량, 응답 시간
- **캐싱**: 응답 캐싱, 임베딩 캐싱
- **성능**: 동시 요청 처리 (Worker 수 조정), 벡터 DB 인덱스 최적화

### 11.4 보안 체크리스트
- API 인증/인가 (JWT, API Key)
- HTTPS 적용
- Injection 방지 (SQL, Prompt)
- 민감 정보 마스킹 및 Rate Limiting

### 11.5 트러블슈팅 가이드
- Ollama 응답 느림 (메모리 부족)
- 검색 결과 없음 (인덱싱 미흡)
- DB 연결 실패 (환경 설정)
- 토큰 초과 (청크 크기 조절)
